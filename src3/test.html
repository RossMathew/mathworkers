<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
  	<script src="mathworkers.js"></script>
	<script>

var coordinator = new MathWorkers.Coordinator(1, "work.js", 1);

coordinator.on("ready", function() {
	coordinator.trigger("hello");
	coordinator.trigger("go");
});

coordinator.on("dot1", function() {
	var dot = coordinator.getBuffer();
	console.log(dot);
	console.log(coordinator.getWallTime());
	coordinator.trigger("sendV");
});

coordinator.on("sentV", function() {
	var recv = coordinator.getBuffer();
	console.log(recv);
	coordinator.trigger("sendMat");
});

coordinator.on("sentMat", function() {
	var recv = coordinator.getBuffer();
	console.log(recv);
	coordinator.trigger("MatVec");
});

coordinator.on("computedMatVec", function() {
	var recv = coordinator.getBuffer();
	console.log(coordinator.getWallTime());
	//console.log(recv);
});



	</script>
  </body>
</html>
